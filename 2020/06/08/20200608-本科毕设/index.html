<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board | Pinjun Zheng&#39;s Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Project">
    <meta name="description" content="IntroductionAmong the various electrical parameters of airborne AC, the voltage effective value (rms value) of steady-state AC voltage is an extremely important parameter. There are strict internation">
<meta property="og:type" content="article">
<meta property="og:title" content="ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board">
<meta property="og:url" content="https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/index.html">
<meta property="og:site_name" content="Pinjun Zheng&#39;s Page">
<meta property="og:description" content="IntroductionAmong the various electrical parameters of airborne AC, the voltage effective value (rms value) of steady-state AC voltage is an extremely important parameter. There are strict internation">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zpinjun.github.io/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_201007.png">
<meta property="og:image" content="https://zpinjun.github.io/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_223915.png">
<meta property="og:image" content="https://zpinjun.github.io/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_201345.png">
<meta property="og:image" content="https://zpinjun.github.io/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_201745.png">
<meta property="og:image" content="https://zpinjun.github.io/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_201852.png">
<meta property="article:published_time" content="2020-06-08T11:49:48.000Z">
<meta property="article:modified_time" content="2020-06-09T09:33:49.240Z">
<meta property="article:author" content="Pinjun Zheng">
<meta property="article:tag" content="Project">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zpinjun.github.io/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_201007.png">
    
        <link rel="alternate" type="application/atom+xml" title="Pinjun Zheng&#39;s Page" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Pinjun Zheng</h5>
          <a href="mailto:Pinjun-Zheng@outlook.com" title="Pinjun-Zheng@outlook.com" class="mail">Pinjun-Zheng@outlook.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/main"  >
                <i class="icon icon-lg icon-home"></i>
                home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/ZPinjun" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board</div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-06-08T11:49:48.000Z" itemprop="datePublished" class="page-time">
  2020-06-08
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Introduction"><span class="post-toc-number">1.</span> <span class="post-toc-text">Introduction</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Technical-Requirements"><span class="post-toc-number">2.</span> <span class="post-toc-text">Technical Requirements</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Overall-Design"><span class="post-toc-number">3.</span> <span class="post-toc-text">Overall Design</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Hardware-Design"><span class="post-toc-number">3.0.1.</span> <span class="post-toc-text">Hardware Design</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Software-Design"><span class="post-toc-number">3.0.2.</span> <span class="post-toc-text">Software Design</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Product-amp-Test"><span class="post-toc-number">4.</span> <span class="post-toc-text">Product &amp; Test</span></a></li></ol>
        </nav>
    </aside>


<article id="post-20200608-本科毕设"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-06-08 19:49:48" datetime="2020-06-08T11:49:48.000Z"  itemprop="datePublished">2020-06-08</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Among the various electrical parameters of airborne AC, the voltage effective value (rms value) of steady-state AC voltage is an extremely important parameter. There are strict international standards for measuring the effective value of airborne AC. Our project is carried out with reference to the ISO 12384 standard. The main features of airborne AC voltage acquisition task are: </p>
<ul>
<li>Multiple acquisition channels</li>
<li>High sampling frequency requirements</li>
<li>strict synchronization requirements </li>
<li>Equipment miniaturization requirements</li>
</ul>
<p>Considering that the complete test system also needs to measure other parameters, which will result in a large computing power load, we want to develop a lower computer circuit to undertake the multi-channel airborne AC rms measurement task to reduce the burden on the upper computer.</p>
<h1 id="Technical-Requirements"><a href="#Technical-Requirements" class="headerlink" title="Technical Requirements"></a>Technical Requirements</h1><ul>
<li>Equipment area is not less than 200 mm × 180 mm, height is not more than 100 mm.</li>
<li>The sampling rate of the single voltage acquisition channel is not less than 100 ksps, and the sampling time is not more than 1s. The data bit width is not less than 14 bits.</li>
<li>The voltage rms error does not exceed 0.5%.</li>
<li>The number of acquisition channels is not less than 64, and the data of all the channels need to be acquired synchronously.</li>
<li>The processed data is output using the standard RS 422 interface.</li>
</ul>
<h1 id="Overall-Design"><a href="#Overall-Design" class="headerlink" title="Overall Design"></a>Overall Design</h1><h3 id="Hardware-Design"><a href="#Hardware-Design" class="headerlink" title="Hardware Design"></a>Hardware Design</h3><div style="width:70%;margin:auto">
<img src="/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_201007.png" class title="image">
</div>

<p>The circuit hardware is mainly divided into the following four modules:</p>
<ul>
<li>Multi-channel data acquisition module</li>
<li>ZYNQ core board main control module</li>
<li>Data export module</li>
<li>Power supply module</li>
</ul>
<h3 id="Software-Design"><a href="#Software-Design" class="headerlink" title="Software Design"></a>Software Design</h3><p>The ZYNQ chip used in this project is a all programmable SoC, which equipped with dual-core ARM Cortex-A9 processors (PS) and Kintex®-7 based programmable logic (PL). We use Verilog language to program PL part to control multiple AD chips to complete the parallel acquisition and data stream transmission task of instantaneous voltage. Use the C language to develop the PS part to complete the calculation of the effective value. The logic of the PL part is packaged into an IP core through the VIVADO software, and the ARM program controls the work of these IPs by reading and writing custom registers. The following figure shows the logical state machine of one of the IP cores:</p>
<img src="/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_223915.png" class title="image">
<p>The overall operation process of the software is shown in the following figure:<br><img src="/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_201345.png" class title="image"></p>
<ol>
<li>The ARM processor sends a PS_en rising edge trigger to the data master IP.</li>
<li>The data master IP works, data is sampled and sent into the FIFO, which loop 1000 times.</li>
<li>The data master IP sends PS_acquiDataOver to the ARM processor. </li>
<li>The ARM processor starts the DMA transfer channel. </li>
<li>The DMA controller transfers the data in the FIFO to the DDR memory. </li>
<li>The DMA controller sends a signal to the ARM processor that the transfer is complete. </li>
<li>The ARM processor reads data from the DDR memory.</li>
<li>The ARM processor performs effective value calculation and exports the result to IP through RS422.</li>
</ol>
<h1 id="Product-amp-Test"><a href="#Product-amp-Test" class="headerlink" title="Product &amp; Test"></a>Product &amp; Test</h1><img src="/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_201745.png" class title="image">
<img src="/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/2020-06-08_201852.png" class title="image">
<ul>
<li>Single channel sampling rate is 167.79 ksps.</li>
<li>the average time for any channel of the board to complete a data acquisition and calculation process is about 6.590 ms.</li>
<li>The effective value acquisition error does not exceed 0.4%.</li>
<li>The power consumption of the whole board is about 7.98 W.</li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <footer>
        <a href="https://zpinjun.github.io/main">
            <img src="/img/avatar.jpg" alt="Pinjun Zheng">
            Pinjun Zheng
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Project/" rel="tag">Project</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/&title=《ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board》 — Pinjun Zheng's Page&pic=https://zpinjun.github.io/main/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/&title=《ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board》 — Pinjun Zheng's Page&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board》 — Pinjun Zheng's Page&url=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/&via=https://zpinjun.github.io/main" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2020/06/09/I2MTC-paper/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">A Measurement Fault Elimination Method in 1D Fourier Phase Retrieval</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/08/01/20200427-%E5%A8%81%E6%B5%B7%E6%9A%91%E6%9C%9F%E5%AD%A6%E6%A0%A1%E7%BA%AA%E5%AE%9E/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Embedded Tetris game based on FPGA and VGA protocol</h4>
      </a>
    </div>
  
</nav>



    




















</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Pinjun Zheng &copy; 2019 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/&title=《ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board》 — Pinjun Zheng's Page&pic=https://zpinjun.github.io/main/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/&title=《ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board》 — Pinjun Zheng's Page&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《ZYNQ-based Airborne AC Multi-channel Parallel Data Acquisition and Processing Board》 — Pinjun Zheng's Page&url=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/&via=https://zpinjun.github.io/main" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://zpinjun.github.io/main/2020/06/08/20200608-%E6%9C%AC%E7%A7%91%E6%AF%95%E8%AE%BE/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '人去哪里了?';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又回来了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<!-- <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
